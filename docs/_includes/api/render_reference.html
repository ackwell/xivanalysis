{% comment %}
References point to some other value, potentially renaming it.
Search the context to see if we can find it.
{% endcomment %}
{%- assign ref = include.item -%}
{%- assign context = include.context | default: include.modules -%}

{% comment %}
Search for a value matching the reference. If none is found, check through the context for
items with children and recurse. This is pretty safe, as typedoc IDs are globally unique.
{% endcomment %}
{%- assign value = context | where: "id", ref.target | first -%}
{%- if value -%}
	<strong>REFERENCE:</strong> {{ ref.name }} --> {{ value | jsonify }}<br>
{%- else -%}
	{%- for item in context -%}
		{%- unless item.children %}{% continue %}{% endunless -%}
		{%- include api/render_reference.html item=ref modules=include.modules context=item.children -%}
	{%- endfor -%}
{%- endif -%}
